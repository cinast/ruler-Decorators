# Known Issues & Technical Limitations

## 已解决的问题

1. ~~一次只能给属性加上控制，不能给属性的属性加上监控~~

    - ✅ 已通过 Property-Proxy 和 Class-Proxy 模式解决

2. ~~类代理模式下值处理不正确~~

    - ✅ 已修复 proxy trap 中的处理对象解析

3. ~~函数参数访问器无效~~

    - ✅ 已修复装饰器类型识别和参数处理逻辑

4. ~~条件装饰器返回处理对象而不是值~~
    - ✅ 已修复处理对象的值提取逻辑

## 当前限制

1. **类型传递问题**

    - ts 做不到动态推断  
      一旦 any 染指，什么都毁了  
      用它的时候你其实和 JS 没什么区别

2. **性能考虑**

    - ~~大量使用 WeakMap 和 reduce 可能影响性能~~  
      单个装饰器过滤单个值 10^8 次 大约要 8.4s  
      单个装饰器过滤单个值 1000 次 大约要 2ms  
      如果处理链够长，可能没有这么乐观
    - 对于高性能场景，建议用 accessor 模式，或者 get/str 就够了
    - tsc 编译他要好几秒

3. **浏览器兼容性**

    - 依赖 Proxy API，在不支持 Proxy 的环境中等效于 accessor 模式
    - 需要 ES6+ 环境

4. **调试复杂性**

    - 复杂的规则链可能增加调试难度
    - 建议使用 debugLogger 进行调试
    - 调试位置建议 [`规则句柄没效果`@notice.md](notice.md)

5. **模式混合限制**
    - 不支持同时使用多种驱动模式  
      尽管会自动切换，但我还不太确定会有什么问题
    - 类代理模式会覆盖其他模式的设置  
      _@see_ `(rd_Descriptor).managedByClassProxy`
